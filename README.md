# Counter æ™ºèƒ½åˆçº¦é¡¹ç›®

åŸºäº Foundry æ¡†æ¶å¼€å‘çš„ Counter æ™ºèƒ½åˆçº¦ï¼Œå±•ç¤ºäº†å®Œæ•´çš„å¼€å‘ã€æµ‹è¯•ã€ä¼˜åŒ–å’Œéƒ¨ç½²æµç¨‹ã€‚

## é¡¹ç›®ç‰¹è‰²

- âš¡ **é«˜æ€§èƒ½ä¼˜åŒ–**ï¼šé€šè¿‡å¤šè½®ä¼˜åŒ–ï¼ŒGas æ¶ˆè€—é™ä½ 66%
- ğŸ§ª **å®Œæ•´æµ‹è¯•**ï¼šåŒ…å«å•å…ƒæµ‹è¯•ã€æ¨¡ç³Šæµ‹è¯•å’Œè¾¹ç•Œæµ‹è¯•
- ğŸ“Š **è¯¦ç»†æ–‡æ¡£**ï¼šæä¾›ç†è®ºçŸ¥è¯†å›é¡¾å’Œ Gas ä¼˜åŒ–åˆ†ææŠ¥å‘Š
- ğŸ”§ **æœ€ä½³å®è·µ**ï¼šå±•ç¤º Foundry å·¥å…·é“¾çš„å®Œæ•´ä½¿ç”¨

## åˆçº¦åŠŸèƒ½

Counter åˆçº¦æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š
- `increment()` - æ•°å€¼é€’å¢
- `decrement()` - æ•°å€¼é€’å‡ï¼ˆå¸¦ä¸‹æº¢ä¿æŠ¤ï¼‰
- `setNumber()` - è®¾ç½®æŒ‡å®šæ•°å€¼
- `number()` - æŸ¥è¯¢å½“å‰æ•°å€¼

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–
```shell
forge install
```

### ç¼–è¯‘åˆçº¦
```shell
forge build
```

### è¿è¡Œæµ‹è¯•
```shell
forge test -vvv          # è¯¦ç»†æµ‹è¯•è¾“å‡º
forge test --gas-report  # æŸ¥çœ‹ Gas æ¶ˆè€—æŠ¥å‘Š
```

### æœ¬åœ°éƒ¨ç½²
```shell
# å¯åŠ¨æœ¬åœ°èŠ‚ç‚¹
anvil

# éƒ¨ç½²åˆçº¦
forge script script/Counter.s.sol --rpc-url local --broadcast --private-key <PRIVATE_KEY>
```

### åˆçº¦äº¤äº’
```shell
# è°ƒç”¨å‡½æ•°ï¼ˆä¿®æ”¹çŠ¶æ€ï¼‰
cast send <CONTRACT_ADDRESS> "increment()" --rpc-url local --private-key <PRIVATE_KEY>

# æŸ¥è¯¢çŠ¶æ€
cast call <CONTRACT_ADDRESS> "number()(uint256)" --rpc-url local
```

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ src/
â”‚   â””â”€â”€ Counter.sol              # ä¸»åˆçº¦
â”œâ”€â”€ test/
â”‚   â””â”€â”€ Counter.t.sol            # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ script/
â”‚   â””â”€â”€ Counter.s.sol            # éƒ¨ç½²è„šæœ¬
â”œâ”€â”€ Gasä¼˜åŒ–åˆ†ææŠ¥å‘Š.md            # æ€§èƒ½ä¼˜åŒ–æŠ¥å‘Š
â”œâ”€â”€ ç†è®ºçŸ¥è¯†å›é¡¾.md               # Foundry ç†è®ºçŸ¥è¯†
â””â”€â”€ foundry.toml                 # é¡¹ç›®é…ç½®
```

## Gas ä¼˜åŒ–æˆæœ

| å‡½æ•° | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | èŠ‚çœ |
|-----|-------|-------|------|
| `increment()` | 28,827 | 11,312 | 60.7% |
| `decrement()` | 30,312 | 11,428 | 62.3% |
| `setNumber()` | 29,022 | 11,211 | 61.4% |

## æ–‡æ¡£

- [ç†è®ºçŸ¥è¯†å›é¡¾](./ç†è®ºçŸ¥è¯†å›é¡¾.md) - Foundry æ¡†æ¶å®Œæ•´ä»‹ç»
- [Gas ä¼˜åŒ–åˆ†ææŠ¥å‘Š](./Gasä¼˜åŒ–åˆ†ææŠ¥å‘Š.md) - è¯¦ç»†çš„æ€§èƒ½ä¼˜åŒ–è¿‡ç¨‹
